<div class="min-h-screen bg-gradient-to-br from-gray-50 to-white p-4" [dir]="isRTL() ? 'rtl' : 'ltr'">
  <div class="max-w-4xl mx-auto">
    <form [formGroup]="registerForm" (ngSubmit)="updateprofile()" 
          class="bg-white shadow-xl border border-gray-200/60 rounded-2xl overflow-hidden animate-fadeIn">
      
      <!-- Header Section -->
      <div class="bg-gradient-to-r from-pink-500 to-rose-600 px-4 sm:px-6 py-6 text-white animate-slideDown">
        <div class="flex items-center gap-3" [class.flex-row-reverse]="isRTL()">
          <div class="flex-shrink-0 w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm">
            <i class="fas fa-user-circle text-2xl animate-pulse"></i>
          </div>
          <div [class.text-right]="isRTL()">
            <h2 class="text-xl sm:text-2xl font-bold mb-1">
              {{ 'YOUR_ACCOUNT' | translate }}
            </h2>
            <p class="text-pink-100 text-sm">{{ 'EDIT_INFO_PREFERENCES' | translate }}</p>
          </div>
        </div>
      </div>
      
      <!-- Main Content -->
      <div class="px-4 sm:px-6 py-6">
        
        <!-- Profile Photo Section -->
        <div class="mb-8 animate-slideUp" style="animation-delay: 0.1s">
          <div class="flex items-center gap-2 mb-4" [class.flex-row-reverse]="isRTL()">
            <i class="fas fa-camera text-pink-500 animate-bounce"></i>
            <h3 class="text-lg font-semibold text-gray-900">{{ 'PROFILE_PHOTO' | translate }}</h3>
          </div>
          
          <div class="flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6" 
               [class.sm:flex-row-reverse]="isRTL()">
            <!-- Photo Display -->
            <div class="relative group mx-auto sm:mx-0">
              <div class="w-24 h-24 sm:w-28 sm:h-28 rounded-2xl overflow-hidden bg-gray-100 border-3 border-gray-200 transition-all duration-300 group-hover:border-pink-300 shadow-lg">
                <img
                  [src]="previewImage || userDataProfile().photo || 'assets/images/default-profile.png'"
                  [alt]="'PROFILE_PHOTO' | translate"
                  class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"
                />
              </div>
              <label
                for="imageUpload"
                class="absolute inset-0 flex items-center justify-center bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-all duration-300 cursor-pointer backdrop-blur-sm">
                <i class="fas fa-camera text-white text-lg animate-pulse"></i>
                <input
                  id="imageUpload"
                  type="file"
                  accept="image/*"
                  class="hidden"
                  (change)="onImageSelected($event)"
                />
              </label>
            </div>
            
            <!-- Upload Button -->
            <div class="flex justify-center sm:justify-start" [class.sm:justify-end]="isRTL()">
              <button 
                (click)="updateMyPhoto()" 
                type="button" 
                class="group flex items-center gap-2 px-4 py-2.5 bg-white border-2 border-pink-500 text-pink-600 font-medium rounded-xl hover:bg-pink-50 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 shadow-sm"
                [class.flex-row-reverse]="isRTL()">
                <i class="fas fa-upload transition-transform group-hover:rotate-12"></i>
                <span>{{ 'UPLOAD_PHOTO' | translate }}</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Personal Information -->
        <div class="mb-8 animate-slideUp" style="animation-delay: 0.2s">
          <div class="flex items-center gap-2 mb-6" [class.flex-row-reverse]="isRTL()">
            <i class="fas fa-id-card text-pink-500 animate-bounce" style="animation-delay: 0.1s"></i>
            <h3 class="text-lg font-semibold text-gray-900">{{ 'PERSONAL_INFORMATION' | translate }}</h3>
          </div>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
            
            <!-- First Name -->
            <div class="animate-slideUp" style="animation-delay: 0.3s">
              <label for="firstName" 
                     class="flex items-center text-sm font-medium text-gray-700 mb-2"
                     [class.flex-row-reverse]="isRTL()"
                     [class.text-right]="isRTL()">
                <i class="fas fa-user text-pink-500 animate-pulse" 
                   [class.mr-2]="!isRTL()" 
                   [class.ml-2]="isRTL()"></i>
                {{ 'FIRST_NAME' | translate }}
              </label>
              <div class="relative group">
                <input
                  id="firstName"
                  formControlName="firstName"
                  type="text"
                  [ngClass]="{
                    'border-gray-300 focus:border-pink-500 focus:ring-pink-500': !registerForm.get('firstName')?.touched,
                    'border-red-300 focus:border-red-500 focus:ring-red-500': registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid,
                    'border-green-300 focus:border-green-500 focus:ring-green-500': registerForm.get('firstName')?.touched && registerForm.get('firstName')?.valid
                  }"
                  class="w-full px-3 sm:px-4 py-3 border-2 rounded-xl shadow-sm focus:outline-none focus:ring-1 text-sm transition-all duration-300 transform focus:scale-[1.02]"
                  [class.text-right]="isRTL()"
                  [placeholder]="'ENTER_FIRST_NAME' | translate"
                />
                <div class="absolute inset-y-0 flex items-center"
                     [class.right-3]="!isRTL()"
                     [class.left-3]="isRTL()">
                  @if (registerForm.get('firstName')?.touched) {
                    @if (registerForm.get('firstName')?.valid) {
                      <i class="fas fa-check-circle text-green-500 text-sm animate-bounce"></i>
                    } @else {
                      <i class="fas fa-exclamation-circle text-red-500 text-sm animate-pulse"></i>
                    }
                  }
                </div>
              </div>
              @if (registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid) {
                <p class="mt-2 text-sm text-red-600 animate-slideDown flex items-center"
                   [class.flex-row-reverse]="isRTL()"
                   [class.text-right]="isRTL()">
                  <i class="fas fa-exclamation-triangle animate-pulse"
                     [class.mr-1]="!isRTL()" 
                     [class.ml-1]="isRTL()"></i>
                  @if (registerForm.get('firstName')?.hasError('required')) {
                    {{ 'FIRST_NAME_REQUIRED' | translate }}
                  } @else if (registerForm.get('firstName')?.hasError('pattern')) {
                    {{ 'ENTER_VALID_FIRST_NAME' | translate }}
                  }
                </p>
              }
            </div>

            <!-- Last Name -->
            <div class="animate-slideUp" style="animation-delay: 0.4s">
              <label for="lastName" 
                     class="flex items-center text-sm font-medium text-gray-700 mb-2"
                     [class.flex-row-reverse]="isRTL()"
                     [class.text-right]="isRTL()">
                <i class="fas fa-user-tag text-pink-500 animate-pulse"
                   [class.mr-2]="!isRTL()" 
                   [class.ml-2]="isRTL()"></i>
                {{ 'LAST_NAME' | translate }}
              </label>
              <div class="relative group">
                <input
                  id="lastName"
                  formControlName="lastName"
                  type="text"
                  [ngClass]="{
                    'border-gray-300 focus:border-pink-500 focus:ring-pink-500': !registerForm.get('lastName')?.touched,
                    'border-red-300 focus:border-red-500 focus:ring-red-500': registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid,
                    'border-green-300 focus:border-green-500 focus:ring-green-500': registerForm.get('lastName')?.touched && registerForm.get('lastName')?.valid
                  }"
                  class="w-full px-3 sm:px-4 py-3 border-2 rounded-xl shadow-sm focus:outline-none focus:ring-1 text-sm transition-all duration-300 transform focus:scale-[1.02]"
                  [class.text-right]="isRTL()"
                  [placeholder]="'ENTER_LAST_NAME' | translate"
                />
                <div class="absolute inset-y-0 flex items-center"
                     [class.right-3]="!isRTL()"
                     [class.left-3]="isRTL()">
                  @if (registerForm.get('lastName')?.touched) {
                    @if (registerForm.get('lastName')?.valid) {
                      <i class="fas fa-check-circle text-green-500 text-sm animate-bounce"></i>
                    } @else {
                      <i class="fas fa-exclamation-circle text-red-500 text-sm animate-pulse"></i>
                    }
                  }
                </div>
              </div>
              @if (registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid) {
                <p class="mt-2 text-sm text-red-600 animate-slideDown flex items-center"
                   [class.flex-row-reverse]="isRTL()"
                   [class.text-right]="isRTL()">
                  <i class="fas fa-exclamation-triangle animate-pulse"
                     [class.mr-1]="!isRTL()" 
                     [class.ml-1]="isRTL()"></i>
                  @if (registerForm.get('lastName')?.hasError('required')) {
                    {{ 'LAST_NAME_REQUIRED' | translate }}
                  } @else if (registerForm.get('lastName')?.hasError('pattern')) {
                    {{ 'ENTER_VALID_LAST_NAME' | translate }}
                  }
                </p>
              }
            </div>
          </div>
        </div>

        <!-- Contact Information -->
        <div class="mb-8 animate-slideUp" style="animation-delay: 0.5s">
          <div class="flex items-center gap-2 mb-6" [class.flex-row-reverse]="isRTL()">
            <i class="fas fa-address-book text-pink-500 animate-bounce"></i>
            <h3 class="text-lg font-semibold text-gray-900">{{ 'CONTACT_INFORMATION' | translate }}</h3>
          </div>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
            
            <!-- Email -->
            <div class="animate-slideUp" style="animation-delay: 0.6s">
              <label for="email" 
                     class="flex items-center text-sm font-medium text-gray-700 mb-2"
                     [class.flex-row-reverse]="isRTL()"
                     [class.text-right]="isRTL()">
                <i class="fas fa-envelope text-pink-500 animate-pulse"
                   [class.mr-2]="!isRTL()" 
                   [class.ml-2]="isRTL()"></i>
                {{ 'EMAIL_ADDRESS' | translate }}
              </label>
              <div class="relative group">
                <input
                  id="email"
                  formControlName="email"
                  type="email"
                  [ngClass]="{
                    'border-gray-300 focus:border-pink-500 focus:ring-pink-500': !registerForm.get('email')?.touched,
                    'border-red-300 focus:border-red-500 focus:ring-red-500': registerForm.get('email')?.touched && registerForm.get('email')?.invalid,
                    'border-green-300 focus:border-green-500 focus:ring-green-500': registerForm.get('email')?.touched && registerForm.get('email')?.valid
                  }"
                  class="w-full px-3 sm:px-4 py-3 border-2 rounded-xl shadow-sm focus:outline-none focus:ring-1 text-sm transition-all duration-300 transform focus:scale-[1.02]"
                  [class.text-right]="isRTL()"
                  [placeholder]="'ENTER_EMAIL' | translate"
                />
                <div class="absolute inset-y-0 flex items-center"
                     [class.right-3]="!isRTL()"
                     [class.left-3]="isRTL()">
                  @if (registerForm.get('email')?.touched) {
                    @if (registerForm.get('email')?.valid) {
                      <i class="fas fa-check-circle text-green-500 text-sm animate-bounce"></i>
                    } @else {
                      <i class="fas fa-exclamation-circle text-red-500 text-sm animate-pulse"></i>
                    }
                  }
                </div>
              </div>
              @if (registerForm.get('email')?.touched && registerForm.get('email')?.invalid) {
                <p class="mt-2 text-sm text-red-600 animate-slideDown flex items-center"
                   [class.flex-row-reverse]="isRTL()"
                   [class.text-right]="isRTL()">
                  <i class="fas fa-exclamation-triangle animate-pulse"
                     [class.mr-1]="!isRTL()" 
                     [class.ml-1]="isRTL()"></i>
                  @if (registerForm.get('email')?.hasError('required')) {
                    {{ 'EMAIL_REQUIRED' | translate }}
                  } @else if (registerForm.get('email')?.hasError('email')) {
                    {{ 'ENTER_VALID_EMAIL' | translate }}
                  }
                </p>
              }
            </div>

            <!-- Phone -->
            <div class="animate-slideUp" style="animation-delay: 0.7s">
              <label for="phone" 
                     class="flex items-center text-sm font-medium text-gray-700 mb-2"
                     [class.flex-row-reverse]="isRTL()"
                     [class.text-right]="isRTL()">
                <i class="fas fa-phone text-pink-500 animate-pulse"
                   [class.mr-2]="!isRTL()" 
                   [class.ml-2]="isRTL()"></i>
                {{ 'PHONE_NUMBER' | translate }}
              </label>
              <div class="relative group">
                <input
                  id="phone"
                  formControlName="phone"
                  type="text"
                  [ngClass]="{
                    'border-gray-300 focus:border-pink-500 focus:ring-pink-500': !registerForm.get('phone')?.touched,
                    'border-red-300 focus:border-red-500 focus:ring-red-500': registerForm.get('phone')?.touched && registerForm.get('phone')?.invalid,
                    'border-green-300 focus:border-green-500 focus:ring-green-500': registerForm.get('phone')?.touched && registerForm.get('phone')?.valid
                  }"
                  class="w-full px-3 sm:px-4 py-3 border-2 rounded-xl shadow-sm focus:outline-none focus:ring-1 text-sm transition-all duration-300 transform focus:scale-[1.02]"
                  [class.text-right]="isRTL()"
                  [placeholder]="'ENTER_PHONE' | translate"
                />
                <div class="absolute inset-y-0 flex items-center"
                     [class.right-3]="!isRTL()"
                     [class.left-3]="isRTL()">
                  @if (registerForm.get('phone')?.touched) {
                    @if (registerForm.get('phone')?.valid) {
                      <i class="fas fa-check-circle text-green-500 text-sm animate-bounce"></i>
                    } @else {
                      <i class="fas fa-exclamation-circle text-red-500 text-sm animate-pulse"></i>
                    }
                  }
                </div>
              </div>
              @if (registerForm.get('phone')?.touched && registerForm.get('phone')?.invalid) {
                <p class="mt-2 text-sm text-red-600 animate-slideDown flex items-center"
                   [class.flex-row-reverse]="isRTL()"
                   [class.text-right]="isRTL()">
                  <i class="fas fa-exclamation-triangle animate-pulse"
                     [class.mr-1]="!isRTL()" 
                     [class.ml-1]="isRTL()"></i>
                  @if (registerForm.get('phone')?.hasError('required')) {
                    {{ 'PHONE_REQUIRED' | translate }}
                  } @else if (registerForm.get('phone')?.hasError('pattern')) {
                    {{ 'ENTER_VALID_PHONE' | translate }}
                  }
                </p>
              }
            </div>
          </div>
        </div>

      </div>

      <!-- Footer Actions -->
      <div class="bg-gray-50 border-t border-gray-200 px-4 sm:px-6 py-6 animate-slideUp" style="animation-delay: 0.9s">
        <div class="flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:items-center sm:justify-between"
             [class.sm:flex-row-reverse]="isRTL()">
          <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 order-2 sm:order-1"
               [class.sm:space-x-reverse]="isRTL()"
               [class.sm:order-2]="isRTL()">
            <button 
              type="button"
              (click)="logOut()"
              class="group flex items-center justify-center sm:justify-start px-4 py-2 text-gray-700 text-sm font-medium hover:text-gray-900 transition-all duration-300 transform hover:scale-105"
              [class.flex-row-reverse]="isRTL()">
              <i class="fas fa-sign-out-alt transition-transform group-hover:-translate-x-1"
                 [class.mr-2]="!isRTL()" 
                 [class.ml-2]="isRTL()"></i>
              {{ 'SIGN_OUT' | translate }}
            </button>
            <button 
              (click)="DeleteMyAccount()"
              type="button"
              class="group flex items-center justify-center sm:justify-start px-4 py-2 text-red-600 text-sm font-medium hover:text-red-700 transition-all duration-300 transform hover:scale-105"
              [class.flex-row-reverse]="isRTL()">
              <i class="fas fa-trash-alt transition-transform group-hover:scale-110"
                 [class.mr-2]="!isRTL()" 
                 [class.ml-2]="isRTL()"></i>
              {{ 'DELETE_ACCOUNT' | translate }}
            </button>
          </div>
          
          <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 order-1 sm:order-2"
               [class.sm:space-x-reverse]="isRTL()"
               [class.sm:order-1]="isRTL()">
            <button 
              type="button"
              class="group px-4 py-2 bg-white border-2 border-gray-300 text-gray-700 text-sm font-medium rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105">
              <i class="fas fa-times transition-transform group-hover:rotate-90"
                 [class.mr-2]="!isRTL()" 
                 [class.ml-2]="isRTL()"></i>
              {{ 'CANCEL' | translate }}
            </button>
            <button 
              type="submit" 
              [disabled]="registerForm.invalid"
              class="group px-6 py-2 bg-gradient-to-r from-pink-500 to-rose-600 text-white text-sm font-medium rounded-xl hover:from-pink-600 hover:to-rose-700 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-lg"
              [class.flex-row-reverse]="isRTL()">
              <i class="fas fa-save transition-transform group-hover:rotate-12"
                 [class.mr-2]="!isRTL()" 
                 [class.ml-2]="isRTL()"></i>
              {{ 'SAVE_CHANGES' | translate }}
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
